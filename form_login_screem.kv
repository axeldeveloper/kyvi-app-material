#:import rgba kivy.utils.get_color_from_hex
#:import Snackbar kivymd.uix.snackbar.Snackbar

<LoginScreen>:
    #name: "login"
    #id: login
    background_color:
    canvas.before:
        Color:
            rgba: (0,0,0,0)
            # rgba: self.background_color
            #rgba: app.theme_cls.primary_color
        Rectangle:
            pos: self.pos
            size: self.size  
    MDLabel:
        text: 'Login Page'
        font_style: 'H3'
        bold: True
        pos_hint: {'top': 1.3}
        halign: 'center'

    MDTextField:
        id: username
        hint_text: 'Username'
        icon_right: 'account-search'
        center: root.center
        pos_hint: {'center_y': 0.6}
        size_hint_x: None
        width: 300
        required: True

    MDTextField:
        id: password
        hint_text: 'Password'
        helper_text: 'Forgot Password?'
        helper_text_mode: "on_focus"
        icon_right: 'lock'
        center: root.center
        pos_hint: {'center_y': 0.5}
        size_hint_x: None
        width: 300
        required: True

    MDRaisedButton:
        text: 'Log In'
        center: root.center
        pos_hint: {'center_y': 0.4}
        on_release:
            root.authenticate()
    
    MDRectangleFlatButton:
        id: 'forgot'
        text: 'Forgot Password'
        pos_hint: {'center_x': 0.5 ,'center_y': 0.325}
        # size_hint: 1, 1
        #size_hint_y: None
        #height: 40
        center: root.center 
        size_hint: None, None
        width: dp(100)
        height: dp(40)
        on_release:
            root.forgot_password()
    
    MDRectangleFlatButton:
        text: 'Register'
        pos_hint: {'center_y': 0.25}
        center: root.center 
        size_hint: None, None
        width: dp(150)
        height: dp(40)
        on_release:
            root.reset_register_form()
        